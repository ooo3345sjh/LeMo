<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/admin-layout}">
<th:block layout:fragment="css-js">
    <link rel="stylesheet" th:href="@{/css/admin/adminSubStyle.css}">
    <link rel="stylesheet" th:href="@{/css/admin/adminCommon.css}">
    <!-- ë“œë˜ê·¸ì•¤ë“œë¡­ íŒŒì¼ ì—…ë¡œë“œ -->
    <script src="https://rawgit.com/enyo/dropzone/master/dist/dropzone.js"></script>
    <link rel="stylesheet" href="https://rawgit.com/enyo/dropzone/master/dist/dropzone.css">
    <script th:src="@{/js/admin/dragNdropMulti.js}"></script>
    <!-- ë‹¤ìŒ ì£¼ì†Œ API -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=219050d1872ccb773b543fa419402493&libraries=services"></script>
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script th:src="@{/js/common/zipCode.js}"></script>
    <!-- summernote -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- include summernote css/js -->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
    <!-- í• ì¸ìœ¨ ì ìš© -->
    <script th:src="@{/js/admin/salePercent.js}"></script>
    <!-- ìœ íš¨ì„± ê²€ì‚¬ -->
    <script th:src="@{/js/admin/accValidation.js}"></script>
    <style>
        #autoMaker{
           position: absolute;
           width: 200px;
           height: auto;
           background: white;
           cursor:pointer;
        }
        #autoMaker > div{
            border: 1px solid #e6e6e6;
            margin-top: 3px;
            font-size: 12px;
            padding: 5px 6px;
            background: #fafafa;
            z-index: 9999;
            position: sticky;
        }
        #autoMaker > div:hover{
           background : #e6d1ff;
        }

        .wrap {
           display: inline-block;
           margin-right: 11px;
           margin-bottom: 6px;
        }
        .preview {
           width: 100px;
           height: 100px;
           background-size: cover;
           background-repeat: no-repeat;
           z-index: 999;
           background-position: center;
           pointer-events: none;
           background-image: url(https://i0.wp.com/adventure.co.kr/wp-content/uploads/2020/09/no-image.jpg);
        }

        #wrap-container {
           overflow: auto;
           white-space: nowrap;
           overflow-y: hidden;
           margin-bottom: 7px;
        }
        #wrap-container::-webkit-scrollbar {
            height: 10px;
        }
        #wrap-container::-webkit-scrollbar-thumb {
            background: #bbd444;
            border-radius: 10px;
            box-shadow: inset 2px 2px 5px 0 rgba(#fff, 0.5);
        }
        #wrap-container::-webkit-scrollbar-track {
            background-color: #e4e4e4;
        }

        #fileDropzone .dz-image{
        }
        .dropzone .dz-preview .dz-remove {
            background-image: url('/Lemo/images/admin/x-button.png');
            background-repeat:no-repeat;
            background-size: 20px 20px;
            opacity: 70%;
            position: absolute;
            top: -5px;
            z-index: 999;
            right: -7px;
        }
        .dropzone .dz-preview .dz-remove:hover {
            opacity: 1;
        }
   </style>

</th:block>
<th:block layout:fragment="content">
    <main>
        <div class="main_inner">
            <!-- ì£„ì¸¡ ì‚¬ì´ë“œë°” -->
            <th:block th:replace="~{fragments/_aside::businessFragment}"></th:block>
            <!-- ìš°ì¸¡ ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
            <section class="main_content">
                <div class="main_cotent_inner">
                    <div class="main_content_div">
                        <div class="col_nav">
                            <span>ìƒí’ˆê´€ë¦¬ ></span>
                            <span>ìˆ™ì†Œë“±ë¡</span>
                        </div>

                        <!-- ìˆ™ì†Œ ë“±ë¡ í¼ -->
                        <form name="form" class="col_register_form" th:action="@{/business/info/rsave}" method="post" enctype="multipart/form-data">
                            <input type="text" name="province_no">
                            <input type="text" name="acc_city">
                            <input type="text" name="acc_longtitude">
                            <input type="text" name="acc_lattitude">
                            <!-- ìˆ™ì†Œëª… ë“±ë¡ -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ìˆ™ì†Œëª…</span>
                                    </div>
                                </div>
                                <input class="input_stayName" type="text" name="acc_name" placeholder="ìˆ™ì†Œëª…ì„ ì…ë ¥í•˜ì„¸ìš”.">
                                <span class="result_stayName">
                                    ğŸ’¡ ìˆ™ì†Œëª…ì€ ì¶”í›„ ìˆ˜ì •ê°€ëŠ¥í•©ë‹ˆë‹¤
                                </span>
                            </div>
                            <!-- ìˆ™ì†Œ íƒ€ì… -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ìˆ™ì†Œíƒ€ì…</span>
                                    </div>
                                </div>
                                <div>
                                    <select name="accType_no" class="accType">
                                        <option value="1">ëª¨í…”</option>
                                        <option value="2">í˜¸í…”</option>
                                        <option value="3">íœì…˜</option>
                                        <option value="4">ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤</option>
                                        <option value="5">ìº í•‘Â·ê¸€ë¨í•‘</option>
                                    </select>
                                </div>
                            </div>
                            <!-- ì£¼ì†Œë“±ë¡ -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ì£¼ì†Œ</span>
                                    </div>
                                </div>
                                <div class="stayZip">
                                    <button type="button" onclick="postcode()">ì£¼ì†Œì°¾ê¸°</button>
                                    <input type="text" id="zip" name="acc_zip" readonly>
                                </div>
                                <div class="stayAddr1">
                                    <input type="text" id="addr" name="acc_addr" readonly>
                                </div>
                                <div class="stayAddr2">
                                    <input type="text" id="addrDetail" name="acc_addrDetail" placeholder="ìƒì„¸ì£¼ì†Œ ì…ë ¥">
                                    <div>
                                        <input type="button" id="BtnButton" value="ì£¼ì†Œì…ë ¥">
                                    </div>
                                </div>
                                <div id="map"></div>

                            </div>
                            <!-- ì²´í¬ì¸ ì²´í¬ì•„ì›ƒ ê¸°ë³¸ ì‹œê°„ -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ê¸°ë³¸ ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ì‹œê°„</span>
                                    </div>
                                </div>
                                <div class="acc_checkTime_div">
                                    <span class="acc_checkTime_tit">ì²´í¬ì¸:</span>
                                    <input type="time" name="acc_checkIn" class="acc_checkTime">
                                </div>
                                <div class="acc_checkTime_div">
                                    <span class="acc_checkTime_tit">ì²´í¬ì•„ì›ƒ:</span>
                                    <input type="time" name="acc_checkOut" class="acc_checkTime">
                                </div>
                            </div>
                            <!-- í¸ì˜ì‹œì„¤ ë° ì„œë¹„ìŠ¤ ì²´í¬ë°•ìŠ¤ ë“±ë¡ -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>í¸ì˜ì‹œì„¤ ë° ì„œë¹„ìŠ¤</span>
                                    </div>
                                </div>
                                <div class="cs_checkbox">
                                    <span id="help_cs">
                                        ğŸ’¡ ì „ì²´ ì„œë¹„ìŠ¤ ì°¸ê³ 
                                    </span>
                                    <div id="result_help_cs" style="display: none;">
                                        <ul id="result_td"></ul>
                                    </div>
                                    <input type="text" id="insert_target" style="display: none;">
                                    <input type="text" id="search_area" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”." autocomplete="off">
                                    <div id="autoMaker"></div>

                                </div>
                                <div id="tag_area" style="width: 100%; margin-top: 44px;">
                                    <img th:src="@{/images/admin/label.png}" width="15px;">&nbsp;TAG
                                </div>

                            </div>

                            <!-- ìˆ™ì†Œ ì¸ë„¤ì¼ ì´ë¯¸ì§€ -->
                            <div class="col_register1">
                                <div class="stayName" >
                                    <div>
                                        <span id="btnTest">ìˆ™ì†Œ ì´ë¯¸ì§€</span>
                                    </div>
                                </div>
                                <div class="stayThumb">
                                    <div class="dropzone" name="files" id="fileDropzone">
                                        <div>
                                            <button class="dz-default dz-message" type="button">
                                                ì‚¬ì§„ì„ ì²¨ë¶€í•˜ì‹œë ¤ë©´ í´ë¦­í•˜ê±°ë‚˜ ë“œë¡œìš° ì•¤ ë“œë¡­í•´ì£¼ì„¸ìš”
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ë©”ì¸ ì •ë³´ ì…ë ¥ -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ë©”ì¸ ì •ë³´</span>
                                    </div>
                                </div>
                                <input class="input_stayMention" type="text" name="acc_mainInfo" placeholder="ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.">
                            </div>

                            <!-- ìˆ™ì†Œ ì •ë³´ ì…ë ¥ -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ìˆ™ì†Œ ì •ë³´</span>
                                    </div>
                                </div>
                                <div class="stayInfoContent">
                                    <textarea class="notice_text" id="summernote" name="acc_info">
                                        <p style="font-size: 15px; font-weight:500">ì£¼ë³€ì •ë³´</p>
                                        <ul>
                                            <li style="font-size: 13px;">ì£¼ë³€ ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì‹­ì‹œì˜¤.</li>
                                        </ul>
                                        <hr>
                                        <p style="font-size: 15px; font-weight:500">ê¸°ë³¸ì •ë³´</p>
                                        <ul>
                                            <li style="font-size: 13px;">ì²´í¬ì¸ :</li>
                                            <li style="font-size: 13px;">ì²´í¬ì•„ì›ƒ :</li>
                                        </ul>

                                        <p style="font-size: 13px;">ê·¸ ì™¸ ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì‹­ì‹œì˜¤.</p>
                                        <hr>
                                        <p style="font-size: 15px; font-weight:500">ì¸ì›ì¶”ê°€ì •ë³´</p>
                                        <p style="font-size: 13px;">ê¸°ì¤€ ì¸ì› ì™¸ ì¶”ê°€ ì¸ì› ë°œìƒ ì‹œ ìš”ê¸ˆ ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì‹­ì‹œì˜¤.</p>
                                    </textarea>
                                </div>
                            </div>

                            <!-- ì‚¬ì¥ë‹˜ í•œë§ˆë”” -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ì‚¬ì¥ë‹˜ í•œë§ˆë””</span>
                                    </div>
                                </div>
                                <input class="input_stayMention" type="text" name="acc_comment" placeholder="ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.">
                            </div>

                            <!-- ì„±ìˆ˜ê¸°/ë¹„ì„±ìˆ˜ê¸° -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ì„±ìˆ˜ê¸°/ë¹„ì„±ìˆ˜ê¸°</span>
                                    </div>
                                </div>
                                <div>
                                    <select name="acc_season" class="acc_season">
                                        <option value="1">ë¹„ì„±ìˆ˜ê¸°</option>
                                        <option value="2">ì„±ìˆ˜ê¸°</option>
                                    </select>
                                </div>
                            </div>

                            <!-- í• ì¸ìœ¨ ì ìš© -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>í• ì¸ìœ¨ ì ìš©</span>
                                    </div>
                                </div>
                                <div class="salePercent_container">
                                    <table>
                                        <tr class="sp_tr1">
                                            <th>ë¶„ë¥˜</th>
                                            <th>ê¸°ì¤€ê°€</th>
                                            <th>í• ì¸ìœ¨</th>
                                            <th>í• ì¸ê°€</th>
                                        </tr>
                                        <tr>
                                            <td>ì„±ìˆ˜ê¸° ì£¼ì¤‘</td>
                                            <td>
                                                <input type="number" id="input1" placeholder="ê¸°ì¤€ê°€ ì…ë ¥(ì›)">
                                            </td>
                                            <td>
                                                <input type="number" id="input2" placeholder="í• ì¸ìœ¨ ì…ë ¥(%)" name="rp_peakSeason_weekday">
                                            </td>
                                            <td>
                                                <input type="number" id="result" readonly>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>ì„±ìˆ˜ê¸° ì£¼ë§</td>
                                            <td>
                                                <input type="number" id="input1" placeholder="ê¸°ì¤€ê°€ ì…ë ¥(ì›)">
                                            </td>
                                            <td>
                                                <input type="number" id="input2" placeholder="í• ì¸ìœ¨ ì…ë ¥(%)" name="rp_peakSeason_weekend">
                                            </td>
                                            <td>
                                                <input type="number" id="result" readonly>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>ë¹„ì„±ìˆ˜ê¸° ì£¼ì¤‘</td>
                                            <td>
                                                <input type="number" id="input1" placeholder="ê¸°ì¤€ê°€ ì…ë ¥(ì›)">
                                            </td>
                                            <td>
                                                <input type="number" id="input2" placeholder="í• ì¸ìœ¨ ì…ë ¥(%)" name="rp_offSeason_weekday">
                                            </td>
                                            <td>
                                                <input type="number" id="result" readonly>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>ë¹„ì„±ìˆ˜ê¸° ì£¼ë§</td>
                                            <td>
                                                <input type="number" id="input1" placeholder="ê¸°ì¤€ê°€ ì…ë ¥(ì›)">
                                            </td>
                                            <td>
                                                <input type="number" id="input2" placeholder="í• ì¸ìœ¨ ì…ë ¥(%)" name="rp_offSeason_weekend">
                                            </td>
                                            <td>
                                                <input type="number" id="result" readonly>
                                            </td>
                                        </tr>
                                    </table>

                                </div>
                                <span class="result_stayName">
                                    ğŸ’¡ í•´ë‹¹ ê¸°ì¤€ê°€ì™€ í• ì¸ê°€ëŠ” ì˜ˆì‹œì¼ë¿ <i class="result_highlight">í• ì¸ìœ¨ ê°’ë§Œ ì ìš©</i>ë©ë‹ˆë‹¤
                                </span>
                            </div>


                            <div class="btnAdminProd" id="btnUpload">
                                <button type="submit" id="btnSubmit">ìˆ™ì†Œë“±ë¡</button>
                            </div>
                        </form>
                    </div>
                    <div class="blank30"></div>
                </div>
            </section>
        </div>
    </main>
    <th:block th:replace="~{fragments/_footer::footerFragment}"></th:block>
</th:block>
<th:block layout:fragment="script">
<script th:src="@{/js/admin/summernote-ko-KR.js}"></script>
<script>

     $(document).ready(function() {



        // ì¨ë¨¸ë…¸íŠ¸
        $('#summernote').summernote({
            height: 450,
            lang : 'ko-KR',
            spellCheck: false,
            toolbar: [
                // [groupName, [list of button]]
                ['style', ['bold', 'italic', 'underline', 'clear']],
                ['font', ['strikethrough']],
                ['fontsize', ['fontsize']],
                ['color', ['color']],
                ['table', ['table', 'hr']],
                ['para', ['ul', 'ol', 'paragraph']]
            ]
        });

        // input ì—”í„°í‚¤ submit ë§‰ê¸°
        $('input[type="text"]').keydown(function() {
            if (event.keyCode === 13) {
                event.preventDefault();
            };
        });

    });


    // ë‹¤ìŒ ì£¼ì†Œ API ì…ë ¥ ì£¼ì†Œ -> ìœ„ë„, ê²½ë„ ë³€í™˜
    const btnButton = document.getElementById("BtnButton");
    const addrInput = document.getElementById("addr");
    let province_ref = [];

    btnButton.addEventListener("click", function() {
        console.log(addrInput.value);   // ê²½ë‚¨ ì§„ì£¼ì‹œ ê°€ì¢Œê¸¸ 11 (ê°€ì¢Œë™)
        let acc_city = addrInput.value.split(' ')[1];   // ì§„ì£¼ì‹œ

        // ì£¼ì†Œ-ì¢Œí‘œ ë³€í™˜ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var geocoder = new kakao.maps.services.Geocoder();

       // ì£¼ì†Œë¡œ ì¢Œí‘œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤
        geocoder.addressSearch(addrInput.value, function(result, status) {

            // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´
             if (status === kakao.maps.services.Status.OK) {

                var coords = new kakao.maps.LatLng(result[0].y, result[0].x);

                console.log("coords: " + coords);
                console.log(result[0].y);   // ìœ„ë„ (acc_lattitude)
                console.log(result[0].x);   // ê²½ë„ (acc_longtitude)

                $('input[name=acc_lattitude]').attr("value", result[0].y);
                $('input[name=acc_longtitude]').attr("value", result[0].x);

                // ì§€ì—­ ë¹„êµ
                ajaxAPI("business/info/province", null, "GET").then((response)=>{
                    var province_txt = $('#addr').val();

                    console.log('response province : %o', response);
                    console.log('province_txt: ' + province_txt);
                    province_ref = response;

                    for (let i = 0; i < response.length; i++) {
                        console.log("province_no : %d, province_name : %s", response[i].province_no, response[i].province_name);
                    }

                    province_ref.forEach(function(arg){

                        let name1 = arg.province_name;                         // ë¶€ì‚°ê´‘ì—­ì‹œ, ê²½ìƒë‚¨ë„
                        let name2 = arg.province_name.substring(0,2);          // ë¶€ì‚°
                        let name3 = arg.province_name.substring(0,1) + arg.province_name.substring(2,3); // ê²½ë‚¨

                        console.log(name1, name2, name3);

                        if (province_txt.includes(name1) || province_txt.includes(name2) || province_txt.includes(name3)) {
                            console.log("here : " +  name1, arg.province_no);

                            $('input[name=province_no]').attr("value", arg.province_no);
                            $('input[name=acc_city]').attr("value",acc_city);


                        }


                    });

                }).catch((errorMsg)=>{
                    console.log(errorMsg);
                });

            }
        });
        alert('ì£¼ì†Œê°€ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.');

   });





   // í¸ì˜ì‹œì„¤ ì¹´í…Œê³ ë¦¬ ì „ì²´ë³´ê¸°
   var help = document.getElementById("help_cs");
   var result_help = document.getElementById("result_help_cs");
   var result_td = document.getElementById("result_td");

   help.addEventListener("click", function(){

        if(result_help.style.display === 'none'){
            result_help.style.display = 'block';

            ajaxAPI("business/info/findService", null, "GET").then((response)=>{
                console.log('response1 : %o', response);

                result_td.innerHTML = "";

                for (let i = 0; i < response.length; i++) {
                    console.log("sc_name1 : %s", response[i].sc_name);
                    let li = document.createElement('li');
                    li.innerHTML = response[i].sc_name;
                    result_td.appendChild(li);
                }

            }).catch((errorMsg)=>{
                console.log(errorMsg);
            });
        }else if(result_help.style.display === 'block'){
           result_help.style.display = 'none'
        }


   });

    // í¸ì˜ì‹œì„¤ ìë™ì™„ì„±
    const search_area = document.getElementById("search_area");
    let ref = [];
    let submitRef = [];
    let isComplete = false; // autoMaker ìì‹ì´ ì„ íƒë˜ì—ˆëŠ”ì§€ ì—¬ë¶€

    search_area.addEventListener("click", function(){

        ajaxAPI("business/info/findService", null, "GET").then((response)=>{
            console.log('response : %o', response);
            ref = response;
            console.log("ref:  %o", ref);

            for (let i = 0; i < response.length; i++) {
                console.log("sc_no : %d, sc_name : %s", response[i].sc_no, response[i].sc_name);
            }

            $('#search_area').keyup(function(e){
                keyUP();
            });
            $('#search_area').keydown(function(e){
                keyDOWN();
            });

        }).catch((errorMsg)=>{
            console.log(errorMsg);
        });
    });

    function keyUP(){
        let txt = $('#search_area').val();
        if(txt != ''){
            $('#autoMaker').children().remove();

            ref.forEach(function(arg){
                if(arg.sc_name.indexOf(txt) > -1 ){
                    $('#autoMaker').append(
                        $('<div>').text(arg.sc_name).attr({'sc_no':arg.sc_no})
                    );
                }
            });
            $('#autoMaker').children().each(function(){
                $(this).click(function(){

                    let check = submitRef.includes( $(this).attr('sc_no') );

                    if( check ) {
                        alert('ì´ë¯¸ ë“±ë¡í•˜ì‹  ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
                        return;
                    }

                    $('#search_area').val($(this).text());
                    $('#insert_target').val("sc_no : "+$(this).attr('sc_no')+ ", sc_name : " + $(this).text());

                    let temp = '<div class="checkNo'+ $(this).attr('sc_no') +'">';
                       //temp += '<input type="hidden" name="sc_no" class="checkNo'+ $(this).attr('sc_no') +'" data-value="'+$(this).attr('sc_no')+'">#'+$(this).text()+'</>';
                       temp += '<input type="text" name="sc_no" class="checkNo'
                                       + $(this).attr('sc_no')
                                       +'" data-value="'
                                       +$(this).attr('sc_no')
                                       +'"value="'
                                       +$(this).attr('sc_no')
                                       +'">#'+$(this).text()+'</>';
                       temp += '<span><img class="tag_delete" src="/Lemo/images/admin/x-button.png" width="15px;" onclick="tag_delete('+ $(this).attr('sc_no') +')"></span>';
                       temp += '</div>'
                    submitRef.push($(this).attr('sc_no'));
                    $('#tag_area').append(temp);

                    $('#autoMaker').children().remove();
                    isComplete = true; // ìì‹ ì„ íƒ ì™„ë£Œ

                    console.log(submitRef);
                });
            });

        }else {
            $('#autoMaker').children().remove();
        }
    }


    function keyDOWN(){
        if(isComplete) {  //autoMaker ìì‹ì´ ì„ íƒ ë˜ì—ˆìœ¼ë©´ ì´ˆê¸°í™”
            $('#insert_target').val('')
        }
    }

    function tag_delete(tag_value){
        console.log("delete tag selected: " + tag_value);
        $('.checkNo'+tag_value).remove();
        console.log(ref);
    }






</script>
</th:block>
</html>