<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/admin-layout}">
<th:block layout:fragment="css-js">
    <link rel="stylesheet" th:href="@{/css/admin/adminSubStyle.css}">
    <link rel="stylesheet" th:href="@{/css/admin/adminCommon.css}">
    <!-- ÎìúÎûòÍ∑∏Ïï§ÎìúÎ°≠ ÌååÏùº ÏóÖÎ°úÎìú -->
    <script src="https://rawgit.com/enyo/dropzone/master/dist/dropzone.js"></script>
    <link rel="stylesheet" href="https://rawgit.com/enyo/dropzone/master/dist/dropzone.css">
    <script th:src="@{/js/admin/dragNdropMulti.js}"></script>
    <!-- Îã§Ïùå Ï£ºÏÜå API -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=219050d1872ccb773b543fa419402493&libraries=services"></script>
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script th:src="@{/js/common/zipCode.js}"></script>
    <!-- summernote -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- include summernote css/js -->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
    <!-- Ìï†Ïù∏Ïú® Ï†ÅÏö© -->
    <script th:src="@{/js/admin/salePercent.js}"></script>
    <!-- Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ -->
    <script th:src="@{/js/admin/accValidation.js}"></script>
    <style>
        #autoMaker{
           position: absolute;
           width: 200px;
           height: auto;
           background: white;
           cursor:pointer;
        }
        #autoMaker > div{
            border: 1px solid #e6e6e6;
            margin-top: 3px;
            font-size: 12px;
            padding: 5px 6px;
            background: #fafafa;
            z-index: 9999;
            position: sticky;
        }
        #autoMaker > div:hover{
           background : #e6d1ff;
        }

        .wrap {
           display: inline-block;
           margin-right: 11px;
           margin-bottom: 6px;
        }
        .preview {
           width: 100px;
           height: 100px;
           background-size: cover;
           background-repeat: no-repeat;
           z-index: 999;
           background-position: center;
           pointer-events: none;
           background-image: url(https://i0.wp.com/adventure.co.kr/wp-content/uploads/2020/09/no-image.jpg);
        }

        #wrap-container {
           overflow: auto;
           white-space: nowrap;
           overflow-y: hidden;
           margin-bottom: 7px;
        }
        #wrap-container::-webkit-scrollbar {
            height: 10px;
        }
        #wrap-container::-webkit-scrollbar-thumb {
            background: #bbd444;
            border-radius: 10px;
            box-shadow: inset 2px 2px 5px 0 rgba(#fff, 0.5);
        }
        #wrap-container::-webkit-scrollbar-track {
            background-color: #e4e4e4;
        }

        #fileDropzone .dz-image{
        }
        .dropzone .dz-preview .dz-remove {
            background-image: url('/Lemo/images/admin/x-button.png');
            background-repeat:no-repeat;
            background-size: 20px 20px;
            opacity: 70%;
            position: absolute;
            top: -5px;
            z-index: 999;
            right: -7px;
        }
        .dropzone .dz-preview .dz-remove:hover {
            opacity: 1;
        }
   </style>

</th:block>
<th:block layout:fragment="content">
    <main>
        <div class="main_inner">
            <!-- Ï£ÑÏ∏° ÏÇ¨Ïù¥ÎìúÎ∞î -->
            <th:block th:replace="~{fragments/_aside::businessFragment}"></th:block>
            <!-- Ïö∞Ï∏° Î©îÏù∏ Ïª®ÌÖåÏù¥ÎÑà -->
            <section class="main_content">
                <div class="main_cotent_inner">
                    <div class="main_content_div">
                        <div class="col_nav">
                            <span>ÏÉÅÌíàÍ¥ÄÎ¶¨ ></span>
                            <span>ÏàôÏÜåÎì±Î°ù</span>
                        </div>

                        <!-- ÏàôÏÜå Îì±Î°ù Ìèº -->
                        <form name="form" class="col_register_form" th:action="@{/business/info/rsave}" method="post" enctype="multipart/form-data">
                            <input type="text" name="province_no">
                            <input type="text" name="acc_city">
                            <input type="text" name="acc_longtitude">
                            <input type="text" name="acc_lattitude">
                            <!-- ÏàôÏÜåÎ™Ö Îì±Î°ù -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ÏàôÏÜåÎ™Ö</span>
                                    </div>
                                </div>
                                <input class="input_stayName" type="text" name="acc_name" placeholder="ÏàôÏÜåÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.">
                                <span class="result_stayName">
                                    üí° ÏàôÏÜåÎ™ÖÏùÄ Ï∂îÌõÑ ÏàòÏ†ïÍ∞ÄÎä•Ìï©ÎãàÎã§
                                </span>
                            </div>
                            <!-- ÏàôÏÜå ÌÉÄÏûÖ -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ÏàôÏÜåÌÉÄÏûÖ</span>
                                    </div>
                                </div>
                                <div>
                                    <select name="accType_no" class="accType">
                                        <option value="1">Î™®ÌÖî</option>
                                        <option value="2">Ìò∏ÌÖî</option>
                                        <option value="3">ÌéúÏÖò</option>
                                        <option value="4">Í≤åÏä§Ìä∏ÌïòÏö∞Ïä§</option>
                                        <option value="5">Ï∫†Ìïë¬∑Í∏ÄÎû®Ìïë</option>
                                    </select>
                                </div>
                            </div>
                            <!-- Ï£ºÏÜåÎì±Î°ù -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>Ï£ºÏÜå</span>
                                    </div>
                                </div>
                                <div class="stayZip">
                                    <button type="button" onclick="postcode()">Ï£ºÏÜåÏ∞æÍ∏∞</button>
                                    <input type="text" id="zip" name="acc_zip" readonly>
                                </div>
                                <div class="stayAddr1">
                                    <input type="text" id="addr" name="acc_addr" readonly>
                                </div>
                                <div class="stayAddr2">
                                    <input type="text" id="addrDetail" name="acc_addrDetail" placeholder="ÏÉÅÏÑ∏Ï£ºÏÜå ÏûÖÎ†•">
                                    <div>
                                        <input type="button" id="BtnButton" value="Ï£ºÏÜåÏûÖÎ†•">
                                    </div>
                                </div>
                                <div id="map"></div>

                            </div>
                            <!-- Ï≤¥ÌÅ¨Ïù∏ Ï≤¥ÌÅ¨ÏïÑÏõÉ Í∏∞Î≥∏ ÏãúÍ∞Ñ -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>Í∏∞Î≥∏ Ï≤¥ÌÅ¨Ïù∏/Ï≤¥ÌÅ¨ÏïÑÏõÉ ÏãúÍ∞Ñ</span>
                                    </div>
                                </div>
                                <div class="acc_checkTime_div">
                                    <span class="acc_checkTime_tit">Ï≤¥ÌÅ¨Ïù∏:</span>
                                    <input type="time" name="acc_checkIn" class="acc_checkTime">
                                </div>
                                <div class="acc_checkTime_div">
                                    <span class="acc_checkTime_tit">Ï≤¥ÌÅ¨ÏïÑÏõÉ:</span>
                                    <input type="time" name="acc_checkOut" class="acc_checkTime">
                                </div>
                            </div>
                            <!-- Ìé∏ÏùòÏãúÏÑ§ Î∞è ÏÑúÎπÑÏä§ Ï≤¥ÌÅ¨Î∞ïÏä§ Îì±Î°ù -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>Ìé∏ÏùòÏãúÏÑ§ Î∞è ÏÑúÎπÑÏä§</span>
                                    </div>
                                </div>
                                <div class="cs_checkbox">
                                    <span id="help_cs">
                                        üí° Ï†ÑÏ≤¥ ÏÑúÎπÑÏä§ Ï∞∏Í≥†
                                    </span>
                                    <div id="result_help_cs" style="display: none;">
                                        <ul id="result_td"></ul>
                                    </div>
                                    <input type="text" id="insert_target" style="display: none;">
                                    <input type="text" id="search_area" placeholder="Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî." autocomplete="off">
                                    <div id="autoMaker"></div>

                                </div>
                                <div id="tag_area" style="width: 100%; margin-top: 44px;">
                                    <img th:src="@{/images/admin/label.png}" width="15px;">&nbsp;TAG
                                </div>

                            </div>

                            <!-- ÏàôÏÜå Ïç∏ÎÑ§Ïùº Ïù¥ÎØ∏ÏßÄ -->
                            <div class="col_register1">
                                <div class="stayName" >
                                    <div>
                                        <span id="btnTest">ÏàôÏÜå Ïù¥ÎØ∏ÏßÄ</span>
                                    </div>
                                </div>
                                <div class="stayThumb">
                                    <div class="dropzone" name="files" id="fileDropzone">
                                        <div>
                                            <button class="dz-default dz-message" type="button">
                                                ÏÇ¨ÏßÑÏùÑ Ï≤®Î∂ÄÌïòÏãúÎ†§Î©¥ ÌÅ¥Î¶≠ÌïòÍ±∞ÎÇò ÎìúÎ°úÏö∞ Ïï§ ÎìúÎ°≠Ìï¥Ï£ºÏÑ∏Ïöî
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Î©îÏù∏ Ï†ïÎ≥¥ ÏûÖÎ†• -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>Î©îÏù∏ Ï†ïÎ≥¥</span>
                                    </div>
                                </div>
                                <input class="input_stayMention" type="text" name="acc_mainInfo" placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.">
                            </div>

                            <!-- ÏàôÏÜå Ï†ïÎ≥¥ ÏûÖÎ†• -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ÏàôÏÜå Ï†ïÎ≥¥</span>
                                    </div>
                                </div>
                                <div class="stayInfoContent">
                                    <textarea class="notice_text" id="summernote" name="acc_info">
                                        <p style="font-size: 15px; font-weight:500">Ï£ºÎ≥ÄÏ†ïÎ≥¥</p>
                                        <ul>
                                            <li style="font-size: 13px;">Ï£ºÎ≥Ä Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏã≠ÏãúÏò§.</li>
                                        </ul>
                                        <hr>
                                        <p style="font-size: 15px; font-weight:500">Í∏∞Î≥∏Ï†ïÎ≥¥</p>
                                        <ul>
                                            <li style="font-size: 13px;">Ï≤¥ÌÅ¨Ïù∏ :</li>
                                            <li style="font-size: 13px;">Ï≤¥ÌÅ¨ÏïÑÏõÉ :</li>
                                        </ul>

                                        <p style="font-size: 13px;">Í∑∏ Ïô∏ Í∏∞Î≥∏ Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏã≠ÏãúÏò§.</p>
                                        <hr>
                                        <p style="font-size: 15px; font-weight:500">Ïù∏ÏõêÏ∂îÍ∞ÄÏ†ïÎ≥¥</p>
                                        <p style="font-size: 13px;">Í∏∞Ï§Ä Ïù∏Ïõê Ïô∏ Ï∂îÍ∞Ä Ïù∏Ïõê Î∞úÏÉù Ïãú ÏöîÍ∏à Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏã≠ÏãúÏò§.</p>
                                    </textarea>
                                </div>
                            </div>

                            <!-- ÏÇ¨Ïû•Îãò ÌïúÎßàÎîî -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ÏÇ¨Ïû•Îãò ÌïúÎßàÎîî</span>
                                    </div>
                                </div>
                                <input class="input_stayMention" type="text" name="acc_comment" placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.">
                            </div>

                            <!-- ÏÑ±ÏàòÍ∏∞/ÎπÑÏÑ±ÏàòÍ∏∞ -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>ÏÑ±ÏàòÍ∏∞/ÎπÑÏÑ±ÏàòÍ∏∞</span>
                                    </div>
                                </div>
                                <div>
                                    <select name="acc_season" class="acc_season">
                                        <option value="1">ÎπÑÏÑ±ÏàòÍ∏∞</option>
                                        <option value="2">ÏÑ±ÏàòÍ∏∞</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Ìï†Ïù∏Ïú® Ï†ÅÏö© -->
                            <div class="col_register1">
                                <div class="stayName">
                                    <div>
                                        <span>Ìï†Ïù∏Ïú® Ï†ÅÏö©</span>
                                    </div>
                                </div>
                                <div class="salePercent_container">
                                    <table>
                                        <tr class="sp_tr1">
                                            <th>Î∂ÑÎ•ò</th>
                                            <th>Í∏∞Ï§ÄÍ∞Ä</th>
                                            <th>Ìï†Ïù∏Ïú®</th>
                                            <th>Ìï†Ïù∏Í∞Ä</th>
                                        </tr>
                                        <tr>
                                            <td>ÏÑ±ÏàòÍ∏∞ Ï£ºÏ§ë</td>
                                            <td>
                                                <input type="number" id="input1" placeholder="Í∏∞Ï§ÄÍ∞Ä ÏûÖÎ†•(Ïõê)">
                                            </td>
                                            <td>
                                                <input type="number" id="input2" placeholder="Ìï†Ïù∏Ïú® ÏûÖÎ†•(%)" name="rp_peakSeason_weekday">
                                            </td>
                                            <td>
                                                <input type="number" id="result" readonly>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>ÏÑ±ÏàòÍ∏∞ Ï£ºÎßê</td>
                                            <td>
                                                <input type="number" id="input1" placeholder="Í∏∞Ï§ÄÍ∞Ä ÏûÖÎ†•(Ïõê)">
                                            </td>
                                            <td>
                                                <input type="number" id="input2" placeholder="Ìï†Ïù∏Ïú® ÏûÖÎ†•(%)" name="rp_peakSeason_weekend">
                                            </td>
                                            <td>
                                                <input type="number" id="result" readonly>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>ÎπÑÏÑ±ÏàòÍ∏∞ Ï£ºÏ§ë</td>
                                            <td>
                                                <input type="number" id="input1" placeholder="Í∏∞Ï§ÄÍ∞Ä ÏûÖÎ†•(Ïõê)">
                                            </td>
                                            <td>
                                                <input type="number" id="input2" placeholder="Ìï†Ïù∏Ïú® ÏûÖÎ†•(%)" name="rp_offSeason_weekday">
                                            </td>
                                            <td>
                                                <input type="number" id="result" readonly>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>ÎπÑÏÑ±ÏàòÍ∏∞ Ï£ºÎßê</td>
                                            <td>
                                                <input type="number" id="input1" placeholder="Í∏∞Ï§ÄÍ∞Ä ÏûÖÎ†•(Ïõê)">
                                            </td>
                                            <td>
                                                <input type="number" id="input2" placeholder="Ìï†Ïù∏Ïú® ÏûÖÎ†•(%)" name="rp_offSeason_weekend">
                                            </td>
                                            <td>
                                                <input type="number" id="result" readonly>
                                            </td>
                                        </tr>
                                    </table>

                                </div>
                                <span class="result_stayName">
                                    üí° Ìï¥Îãπ Í∏∞Ï§ÄÍ∞ÄÏôÄ Ìï†Ïù∏Í∞ÄÎäî ÏòàÏãúÏùºÎøê <i class="result_highlight">Ìï†Ïù∏Ïú® Í∞íÎßå Ï†ÅÏö©</i>Îê©ÎãàÎã§
                                </span>
                            </div>


                            <div class="btnAdminProd" id="btnUpload">
                                <button type="submit" id="btnSubmit">ÏàôÏÜåÎì±Î°ù</button>
                            </div>
                        </form>
                    </div>
                    <div class="blank30"></div>
                </div>
            </section>
        </div>
    </main>
    <th:block th:replace="~{fragments/_footer::footerFragment}"></th:block>
</th:block>
<th:block layout:fragment="script">
<script th:src="@{/js/admin/summernote-ko-KR.js}"></script>
<script>

     $(document).ready(function() {



        // Ïç®Î®∏ÎÖ∏Ìä∏
        $('#summernote').summernote({
            height: 450,
            lang : 'ko-KR',
            spellCheck: false,
            toolbar: [
                // [groupName, [list of button]]
                ['style', ['bold', 'italic', 'underline', 'clear']],
                ['font', ['strikethrough']],
                ['fontsize', ['fontsize']],
                ['color', ['color']],
                ['table', ['table', 'hr']],
                ['para', ['ul', 'ol', 'paragraph']]
            ]
        });

        // input ÏóîÌÑ∞ÌÇ§ submit ÎßâÍ∏∞
        $('input[type="text"]').keydown(function() {
            if (event.keyCode === 13) {
                event.preventDefault();
            };
        });

    });


    // Îã§Ïùå Ï£ºÏÜå API ÏûÖÎ†• Ï£ºÏÜå -> ÏúÑÎèÑ, Í≤ΩÎèÑ Î≥ÄÌôò
    const btnButton = document.getElementById("BtnButton");
    const addrInput = document.getElementById("addr");
    let province_ref = [];

    btnButton.addEventListener("click", function() {
        console.log(addrInput.value);   // Í≤ΩÎÇ® ÏßÑÏ£ºÏãú Í∞ÄÏ¢åÍ∏∏ 11 (Í∞ÄÏ¢åÎèô)
        let acc_city = addrInput.value.split(' ')[1];   // ÏßÑÏ£ºÏãú

        // Ï£ºÏÜå-Ï¢åÌëú Î≥ÄÌôò Í∞ùÏ≤¥Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
        var geocoder = new kakao.maps.services.Geocoder();

       // Ï£ºÏÜåÎ°ú Ï¢åÌëúÎ•º Í≤ÄÏÉâÌï©ÎãàÎã§
        geocoder.addressSearch(addrInput.value, function(result, status) {

            // Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Í≤ÄÏÉâÏù¥ ÏôÑÎ£åÎêêÏúºÎ©¥
             if (status === kakao.maps.services.Status.OK) {

                var coords = new kakao.maps.LatLng(result[0].y, result[0].x);

                console.log("coords: " + coords);
                console.log(result[0].y);   // ÏúÑÎèÑ (acc_lattitude)
                console.log(result[0].x);   // Í≤ΩÎèÑ (acc_longtitude)

                $('input[name=acc_lattitude]').attr("value", result[0].y);
                $('input[name=acc_longtitude]').attr("value", result[0].x);

                // ÏßÄÏó≠ ÎπÑÍµê
                ajaxAPI("business/info/province", null, "GET").then((response)=>{
                    var province_txt = $('#addr').val();

                    console.log('response province : %o', response);
                    console.log('province_txt: ' + province_txt);
                    province_ref = response;

                    for (let i = 0; i < response.length; i++) {
                        console.log("province_no : %d, province_name : %s", response[i].province_no, response[i].province_name);
                    }

                    province_ref.forEach(function(arg){

                        let name1 = arg.province_name;                         // Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú, Í≤ΩÏÉÅÎÇ®ÎèÑ
                        let name2 = arg.province_name.substring(0,2);          // Î∂ÄÏÇ∞
                        let name3 = arg.province_name.substring(0,1) + arg.province_name.substring(2,3); // Í≤ΩÎÇ®

                        console.log(name1, name2, name3);

                        if (province_txt.includes(name1) || province_txt.includes(name2) || province_txt.includes(name3)) {
                            console.log("here : " +  name1, arg.province_no);

                            $('input[name=province_no]').attr("value", arg.province_no);
                            $('input[name=acc_city]').attr("value",acc_city);


                        }


                    });

                }).catch((errorMsg)=>{
                    console.log(errorMsg);
                });

            }
        });
        alert('Ï£ºÏÜåÍ∞Ä ÏûÖÎ†•ÎêòÏóàÏäµÎãàÎã§.');

   });





   // Ìé∏ÏùòÏãúÏÑ§ Ïπ¥ÌÖåÍ≥†Î¶¨ Ï†ÑÏ≤¥Î≥¥Í∏∞
   var help = document.getElementById("help_cs");
   var result_help = document.getElementById("result_help_cs");
   var result_td = document.getElementById("result_td");

   help.addEventListener("click", function(){

        if(result_help.style.display === 'none'){
            result_help.style.display = 'block';

            ajaxAPI("business/info/findService", null, "GET").then((response)=>{
                //console.log('response1 : %o', response);

                result_td.innerHTML = "";

                for (let i = 0; i < response.length; i++) {
                    //console.log("sc_name1 : %s", response[i].sc_name);
                    let li = document.createElement('li');
                    li.innerHTML = response[i].sc_name;
                    result_td.appendChild(li);
                }

            }).catch((errorMsg)=>{
                console.log(errorMsg);
            });
        }else if(result_help.style.display === 'block'){
           result_help.style.display = 'none'
        }


   });

    // Ìé∏ÏùòÏãúÏÑ§ ÏûêÎèôÏôÑÏÑ±
    const search_area = document.getElementById("search_area");
    let ref = [];
    let submitRef = [];
    let isComplete = false; // autoMaker ÏûêÏãùÏù¥ ÏÑ†ÌÉùÎêòÏóàÎäîÏßÄ Ïó¨Î∂Ä

    search_area.addEventListener("click", function(){

        ajaxAPI("business/info/findService", null, "GET").then((response)=>{
            //console.log('response : %o', response);
            ref = response;
            //console.log("ref:  %o", ref);

            for (let i = 0; i < response.length; i++) {
                //console.log("sc_no : %d, sc_name : %s", response[i].sc_no, response[i].sc_name);
            }

            $('#search_area').keyup(function(e){
                keyUP();
            });
            $('#search_area').keydown(function(e){
                keyDOWN();
            });

        }).catch((errorMsg)=>{
            console.log(errorMsg);
        });
    });

    function keyUP(){
        let txt = $('#search_area').val();
        if(txt != ''){
            $('#autoMaker').children().remove();

            ref.forEach(function(arg){
                if(arg.sc_name.indexOf(txt) > -1 ){
                    $('#autoMaker').append(
                        $('<div>').text(arg.sc_name).attr({'sc_no':arg.sc_no})
                    );
                }
            });
            $('#autoMaker').children().each(function(){
                $(this).click(function(){

                    let check = submitRef.includes( $(this).attr('sc_no') );

                    if( check ) {
                        alert('Ïù¥ÎØ∏ Îì±Î°ùÌïòÏã† ÏÑúÎπÑÏä§ÏûÖÎãàÎã§.');
                        return;
                    }

                    $('#search_area').val($(this).text());
                    $('#insert_target').val("sc_no : "+$(this).attr('sc_no')+ ", sc_name : " + $(this).text());

                    let temp = '<div class="checkNo'+ $(this).attr('sc_no') +'">';
                       //temp += '<input type="hidden" name="sc_no" class="checkNo'+ $(this).attr('sc_no') +'" data-value="'+$(this).attr('sc_no')+'">#'+$(this).text()+'</>';
                       temp += '<input type="hidden" name="sc_no" class="checkNo'
                                       + $(this).attr('sc_no')
                                       +'" data-value="'
                                       +$(this).attr('sc_no')
                                       +'"value="'
                                       +$(this).attr('sc_no')
                                       +'">#'+$(this).text()+'</>';
                       temp += '<span><img class="tag_delete" src="/Lemo/images/admin/x-button.png" width="15px;" onclick="tag_delete('+ $(this).attr('sc_no') +')"></span>';
                       temp += '</div>'
                    submitRef.push($(this).attr('sc_no'));
                    $('#tag_area').append(temp);

                    $('#autoMaker').children().remove();
                    isComplete = true; // ÏûêÏãù ÏÑ†ÌÉù ÏôÑÎ£å

                    console.log(submitRef);
                });
            });

        }else {
            $('#autoMaker').children().remove();
        }
    }


    function keyDOWN(){
        if(isComplete) {  //autoMaker ÏûêÏãùÏù¥ ÏÑ†ÌÉù ÎêòÏóàÏúºÎ©¥ Ï¥àÍ∏∞Ìôî
            $('#insert_target').val('')
        }
    }

    function tag_delete(tag_value){
        console.log("delete tag selected: " + tag_value);
        $('.checkNo'+tag_value).remove();
        console.log(ref);

        submitRef = submitRef.filter(item => item != tag_value);
    }






</script>
</th:block>
</html>