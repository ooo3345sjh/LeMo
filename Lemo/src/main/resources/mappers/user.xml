<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
    날짜 : 2023/03/14
    이름 : 서정현
    내용 : 회원 mapper
 -->
<mapper namespace="kr.co.Lemo.dao.UserDAO">

    <!-- insert -->
    <insert id="saveUserInfo" parameterType="kr.co.Lemo.domain.UserVO">
        INSERT INTO `lemo_member_userinfo` SET
            `user_id`=#{user_id},
            `hp`=#{hp},
            `nick`=#{nick},
            `type`=#{type},
            `role`=#{role},
            `regip`=#{regip},
            `isNoticeEnabled`=#{isNoticeEnabled},
            `isLocationEnabled`=#{isLocationEnabled},
            `isPrivacySelected`=#{isPrivacySelected},
            `rdate`=NOW()
    </insert>
    <insert id="saveHomeUser">
        INSERT INTO `lemo_member_user` SET
            `user_id`=#{user_id},
            `pass`=#{pass}
    </insert>
    <insert id="saveBusinessInfo" parameterType="kr.co.Lemo.domain.BusinessInfoVO">
        INSERT INTO `lemo_member_businessinfo` SET
        `user_id`=#{user_id},
        `bis_company`=#{bis_company},
        `bis_ceo`=#{bis_ceo},
        `bis_openDate`=#{bis_openDate},
        `bis_bizRegNum`=#{bis_bizRegNum},
        `bis_tel`=#{bis_tel},
        `bis_zip`=#{bis_zip},
        `bis_addr`=#{bis_addr},
        `bis_addrDetail`=#{bis_addrDetail}
    </insert>

    <!-- select -->
    <select id="findByEmail" resultType="int">
        SELECT * FROM `lemo_member_userinfo` WHERE `user_id` = #{email};
    </select>
    <select id="countByEmail" resultType="int">
        SELECT COUNT(*) FROM `lemo_member_userinfo` WHERE `user_id` = #{email};
    </select>
    <select id="countByNick" resultType="int">
        SELECT COUNT(*) FROM `lemo_member_userinfo` WHERE `nick` = #{nick};
    </select>

    <!-- update -->

    <!-- delete -->

    <!-- 공통 키 -->

</mapper>